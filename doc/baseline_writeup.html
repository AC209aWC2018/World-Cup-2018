<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Baseline Model &#8212; World Cup  documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Beyond Baseline" href="beyond_baseline_writeup.html" />
    <link rel="prev" title="Exploratory Data Analysis" href="eda_writeup.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          World Cup</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="problem_statement.html">Overview and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="related_works.html">Literature Review and Related Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_description.html">Description of Data</a></li>
</ul>
<p class="caption"><span class="caption-text">EDA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="eda_writeup.html">Exploratory Data Analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">Models</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Baseline Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="beyond_baseline_writeup.html">Beyond Baseline</a></li>
<li class="toctree-l1"><a class="reference internal" href="neural_network_writeup.html">Bonus: Neural Network on Small Training Set</a></li>
</ul>
<p class="caption"><span class="caption-text">Conclusion</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="summary.html">Summary and Future Work</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Baseline Model</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="eda_writeup.html" title="Previous Chapter: Exploratory Data Analysis"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Exploratory D...</span>
    </a>
  </li>
  <li>
    <a href="beyond_baseline_writeup.html" title="Next Chapter: Beyond Baseline"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Beyond Baseline &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/doc/baseline_writeup.ipynb.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="Baseline-Model">
<h1>Baseline Model<a class="headerlink" href="#Baseline-Model" title="Permalink to this headline">¶</a></h1>
<p>Our most basic model would be to just predict the majority class every
time. In this case, <code class="docutils literal notranslate"><span class="pre">home_win</span></code> = 1 is the majority class. Doing this
“prediction” on our train set results in an accuracy of 43.8% while
doing this “prediction” on our test results in an accuracy of 42.19%.
This is pretty decent when we have three classes. Any model we build
should be better than this test accuracy of just guessing the majority
class.</p>
<p>Our baseline model was pretty simple. We utilized the differences in
FIFA rankings, offense ratings, defense ratings, midfield ratings,
overall ratings, and whether the home team is actually playing at home.
We will make a train and validation set out of the original train set.
We then fitted the model on several different classification algorithms,
using cross-validation to train on the models.</p>
<div class="figure" id="id1">
<img alt="Baseline Model Results" src="../_images/baseline_results.png" />
<p class="caption"><span class="caption-text">Baseline Model Results</span></p>
</div>
<p>Ultimately, we selected the model with the highest validation accuracy,
which was logistic regression in this case. We then will see how the
model performs on the test set. Due to the elimination style during
playoffs of the World Cup, there are no draws in these playoff matches.
We attempted three different approaches to predicting the outcome of
theese playoff matches.</p>
<p>The first approach is to predict the outcome at 90 minutes (when a
regular game ends so that our train set and test set are more “similar”
to each other) before accounting for penalty kicks and overtime,
allowing the model which trained on the training set to also predict
draws in the playoff matches of the World Cup.</p>
<p>In the second approach, we will predict the outcome at the end of the
match; for a playoff match, if the model predicts a draw as most likely,
then we instead predict the second most likely outcome of that match. We
call this approach the “Softmax Approach”.</p>
<p>The third approach also attempts to predict the outcome at the end of
the match. Instead of just predicting the second most likely outcome for
a playoff match, we instead just train another model specifically on
past World Cup playoff matches on the final outcome of these matches. We
then just use this model to predict the playoff matches while the model
trained on the training set will predict the preliminaries match. Since
we have limited amount of past World Cup playoff matches (only 24
matches because some of them were removed to accomodate the team ratings
dataset), we trained a basic logistic regression model as this model in
the baseline model case. We call this approach the “WC Playoff Model”.</p>
<div class="figure" id="id2">
<img alt="Baseline Test Results" src="../_images/baseline_test_results.png" />
<p class="caption"><span class="caption-text">Baseline Test Results</span></p>
</div>
<p>Impressive! The baseline model gave us an indea on what accuracy our
more advanced model should hope to achieve. In this case the Softmax
approach did better than the WC Playoff Model approach; this might be
due to the small training set for the playoff matches, the small number
of features, or just pure luck.</p>
<p>We did some basic analysis to see what exactly the model is getting
wrong by plotting some confusion matrices.</p>
<div class="figure" id="id3">
<img alt="Baseline Confusion Matrices" src="../_images/baseline_cm.png" />
<p class="caption"><span class="caption-text">Baseline Confusion Matrices</span></p>
</div>
<p>Our model does not predict draws at all. This is a bit concerning, but
it makes sense given that from our EDA of these simple features we saw
that we really could not distinguish draws from home wins and home
losses at all for any of the features. For most of the feature
distributions, they were always “sandwiched” between the two other
distributions. Maybe our more advanced models will be able to better
predict draws.</p>
<p>We see that across train set and test set, the proportions in each entry
of the confusion matrices are approximately the same, which is good.
This might be an indication that our train and test sets are
approximately similar.</p>
<p>While it seems like because the accuracy in predicting home loss and
home win in the 90 minutes model are higher than those in the softmax
approach, we must remember that the true labels of the former approach
and the latter two approaches are different, where all the draws in the
playoff matches of the test set became either home losses or wins. As a
result, the overall accuracy of the the softmax approach is still higher
than the former approach despite having lower home loss and home win
accuracies; thus we can only compare the overall accuracies of the
former approach with the latter two approaches. We can still compare the
home loss and home win accuracies between the latter two approaches
though since they are using the same test labels, and we see that while
the WC Playoff Model is better at predicting home losses, it is worse in
predicting home wins by a larger magnitude, resulting in lower overall
accuracy.</p>
<p>More importantly, we were curious just how important each feature is,
especially the FIFA ranking feature, the one feature we are trying to
replace. Feature importance of random forest allows us exactly to do so,
and since it has similar performance to logistic regression in the
train/validation set, we can utilize it in this case.</p>
<div class="figure" id="id4">
<img alt="Baseline Feature Importance" src="../_images/baseline_feature_importance.png" />
<p class="caption"><span class="caption-text">Baseline Feature Importance</span></p>
</div>
<p>It seems like the FIFA rankings is not that important of a feature!
Hopefully we can make a better model than the baseline model.</p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, Brian Lin, Shane Ong, Pat Sukhum, Matteo Zhang.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>